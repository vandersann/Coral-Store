{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vander\\\\OneDrive\\\\Documentos\\\\Vander Dev\\\\Projetos\\\\Coral-Store\\\\src\\\\pages\\\\ProductPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { getAllProducts, updateProduct, deleteProduct } from '../api/products';\nimport CategoryFilter from '../components/CategoryFilter';\nimport ProductCard from '../components/ProductCard';\nimport SearchBar from '../components/SearchBar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    gap: 20px;\n    padding: 20px;\n`;\n_c = Container;\nconst ProductPage = () => {\n  _s();\n  const [selectedCategory, setSelectedCategory] = useState(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    loadProducts();\n  }, []); // Empty dependency array to run once on mount\n\n  const loadProducts = async () => {\n    try {\n      const data = await getAllProducts();\n      setProducts(data);\n    } catch (error) {\n      console.error('Error loading products:', error);\n    }\n  };\n  const handleSearch = query => {\n    setSearchQuery(query);\n  };\n  const handleSelectCategory = category => {\n    setSelectedCategory(category);\n  };\n  const handleUpdateProduct = async (id, updatedProduct) => {\n    try {\n      const updated = await updateProduct(id, updatedProduct);\n      const updatedProducts = products.map(product => product.id === id ? updated : product);\n      setProducts(updatedProducts);\n    } catch (error) {\n      console.error('Error updating product:', error);\n    }\n  };\n  const handleDeleteProduct = async id => {\n    try {\n      await deleteProduct(id);\n      const updatedProducts = products.filter(product => product.id !== id);\n      setProducts(updatedProducts);\n    } catch (error) {\n      console.error('Error deleting product:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CategoryFilter, {\n      onSelectCategory: handleSelectCategory,\n      categories: []\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SearchBar, {\n      onSearch: handleSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: products.map(product => /*#__PURE__*/_jsxDEV(ProductCard, {\n        product: product,\n        onUpdate: updatedProduct => handleUpdateProduct(product.id, updatedProduct),\n        onDelete: () => handleDeleteProduct(product.id)\n      }, product.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(ProductPage, \"lfCmItXleXVx6W6e3tRx5pyZm5c=\");\n_c2 = ProductPage;\nexport default ProductPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"ProductPage\");","map":{"version":3,"names":["React","useState","useEffect","styled","getAllProducts","updateProduct","deleteProduct","CategoryFilter","ProductCard","SearchBar","jsxDEV","_jsxDEV","Fragment","_Fragment","Container","div","_c","ProductPage","_s","selectedCategory","setSelectedCategory","searchQuery","setSearchQuery","products","setProducts","loadProducts","data","error","console","handleSearch","query","handleSelectCategory","category","handleUpdateProduct","id","updatedProduct","updated","updatedProducts","map","product","handleDeleteProduct","filter","children","onSelectCategory","categories","fileName","_jsxFileName","lineNumber","columnNumber","onSearch","onUpdate","onDelete","_c2","$RefreshReg$"],"sources":["C:/Users/Vander/OneDrive/Documentos/Vander Dev/Projetos/Coral-Store/src/pages/ProductPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Product } from '../types';\r\nimport { getAllProducts, updateProduct, deleteProduct } from '../api/products';\r\nimport CategoryFilter from '../components/CategoryFilter';\r\nimport ProductCard from '../components/ProductCard';\r\nimport SearchBar from '../components/SearchBar';\r\n\r\nconst Container = styled.div`\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    gap: 20px;\r\n    padding: 20px;\r\n`;\r\n\r\nconst ProductPage: React.FC<{}> = () => {\r\n    const [selectedCategory, setSelectedCategory] = useState<string | null>(null);\r\n    const [searchQuery, setSearchQuery] = useState<string>('');\r\n    const [products, setProducts] = useState<Product[]>([]);\r\n\r\n    useEffect(() => {\r\n        loadProducts();\r\n    }, []); // Empty dependency array to run once on mount\r\n\r\n    const loadProducts = async () => {\r\n        try {\r\n            const data = await getAllProducts();\r\n            setProducts(data);\r\n        } catch (error) {\r\n            console.error('Error loading products:', error);\r\n        }\r\n    };\r\n\r\n    const handleSearch = (query: string) => {\r\n        setSearchQuery(query);\r\n    };\r\n\r\n    const handleSelectCategory = (category: string | null) => {\r\n        setSelectedCategory(category);\r\n    };\r\n\r\n    const handleUpdateProduct = async (id: number, updatedProduct: Product) => {\r\n        try {\r\n            const updated = await updateProduct(id, updatedProduct);\r\n            const updatedProducts = products.map(product => (product.id === id ? updated : product));\r\n            setProducts(updatedProducts);\r\n        } catch (error) {\r\n            console.error('Error updating product:', error);\r\n        }\r\n    };\r\n\r\n    const handleDeleteProduct = async (id: number) => {\r\n        try {\r\n            await deleteProduct(id);\r\n            const updatedProducts = products.filter(product => product.id !== id);\r\n            setProducts(updatedProducts);\r\n        } catch (error) {\r\n            console.error('Error deleting product:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <CategoryFilter\r\n                onSelectCategory={handleSelectCategory} categories={[]}            />\r\n            <SearchBar onSearch={handleSearch} />\r\n            <Container>\r\n                {products.map(product => (\r\n                    <ProductCard\r\n                        key={product.id}\r\n                        product={product}\r\n                        onUpdate={(updatedProduct: Product) => handleUpdateProduct(product.id, updatedProduct)}\r\n                        onDelete={() => handleDeleteProduct(product.id)}\r\n                    />\r\n                ))}\r\n            </Container>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ProductPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}